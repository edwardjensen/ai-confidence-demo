# AI Demonstration Tools

A collection of web-based educational tools that demonstrate core AI concepts to help staff understand how AI models work and their limitations.

For a detailed explanation of how this works and the concepts behind AI confidence measurement, see the supplemental blog post: [AI Confidence Probabilities](https://www.edwardjensen.net/posts/2025/2025-06/ai-confidence-probabilities)

## Available Demos

### 1. **Confidence Visualization** (`/`)
- Interactive chat interface with AI
- Real-time confidence visualization using color-coded tokens
- Hover tooltips showing exact confidence percentages and alternatives
- Token usage tracking for each exchange
- Log probabilities analysis demonstrating AI uncertainty

### 2. **Tokenization Demo** (`/tokenization`)
- Real-time text tokenization as you type
- Visual representation of how AI models split text into tokens
- Token statistics and compression ratios
- Interactive token exploration with detailed explanations
- Client-side processing using GPT-4 tokenization (cl100k_base encoding)

## Common Features
- Clean, modern UI with consistent design language
- Responsive design optimized for desktop and mobile
- Accessibility features with proper ARIA labels
- Production deployment support via Cloudflare Pages

## Files

### Core Application Files
- `public/index.html` - Confidence visualization demo (main interface)
- `public/tokenization.html` - Tokenization demonstration interface
- `public/assets/styles.css` - Shared CSS styling for consistent design
- `public/script.js` - JavaScript for confidence visualization
- `server.js` - Node.js Express development server
- `build.sh` - Build script for production deployment
- `package.json` - NPM configuration and dependencies

### Built Files (Generated)
- `dist/` - Production-ready files created by build.sh

## Quick Start

### Prerequisites

Make sure you have Node.js installed (version 14 or higher). You can download it from [nodejs.org](https://nodejs.org/).

### Installation and Setup

1. **Install dependencies:**

```bash
npm install
```

2. **Configure API Key (Optional - for automatic loading):**

Create a `.env.local` file in the project root with your OpenRouter API key:

```bash
OPENROUTER_API_KEY=sk-or-v1-your-actual-api-key-here
```

If you create this file, the application will automatically load your API key and skip the manual input step.

3. **Start the server:**

```bash
npm start
```

### Alternative NPM Commands

- `npm run dev` - Start development server
- `npm run serve` - Start server (same as start)

The server will automatically:

- Find an available port (starting from 3000)
- Open your default browser to the application
- Display the server URL in the terminal

## Setup

1. Start the server using one of the methods above
2. **Automatic Setup (Recommended)**: If you have a `.env.local` file with your API key, the application will automatically load it and be ready to use
3. **Manual Setup**: If no environment file is found, enter your OpenRouter API key when prompted
4. **Navigate between demos:**
   - Main page (`/`) - Confidence visualization with AI chat
   - Tokenization demo (`/tokenization`) - Real-time text tokenization
5. **For Confidence Demo:** Start chatting with the AI and hover over colored tokens to see confidence levels
6. **For Tokenization Demo:** Type or paste text to see real-time tokenization

## API Key Configuration

You'll need an OpenRouter API key to use this tool. Get one at [openrouter.ai](https://openrouter.ai/).

### Method 1: Environment Variable (Recommended for Development)

Create a `.env.local` file in the project root:

```bash
OPENROUTER_API_KEY=sk-or-v1-your-actual-api-key-here
```

Benefits:

- Automatic loading on startup
- No need to enter the key manually each time
- Secure local development workflow

### Method 2: Manual Entry

If you don't have a `.env.local` file, the application will prompt you to enter your API key manually through the web interface.

The tool uses the `openai/gpt-4o-mini` model with log probabilities enabled to show confidence levels.

## How It Works

### Confidence Visualization

- **Green tokens**: High confidence (>70%)
- **Yellow tokens**: Medium confidence (30-70%)  
- **Red tokens**: Low confidence (<30%)

### Interactive Features

Hover over any colored token to see:

- Exact confidence percentage
- Alternative token possibilities with their probabilities

### Token Usage Tracking

Each AI response shows:

- **Input tokens**: Number of tokens in your message
- **Output tokens**: Number of tokens generated by the AI
- **Total tokens**: Combined count for the exchange

This helps you monitor API usage and understand the cost implications of your conversations.

## Requirements

- Node.js 14.x or higher
- Modern web browser
- OpenRouter API key
- Internet connection

## Installation

1. Clone or download this repository
1. Install dependencies:

   ```bash
   npm install
   ```

1. Start the server:

   ```bash
   npm start
   ```

## Security Notes

- **API Key Safety**: Your OpenRouter API key is only stored in your browser's memory and is never sent to any server other than OpenRouter's official API
- **Local Server**: The web server runs locally on your machine and does not collect or transmit any data
- **Environment Variables**: When using `.env.local`, your API key is only accessible to your local development server and never exposed to external services
- **Client-Side Processing**: All confidence visualization happens in your browser

## Browser Compatibility

Works with all modern browsers including:

- Chrome/Chromium
- Firefox
- Safari
- Edge

## Deployment Options

### Local Development

Perfect for testing and development with manual API key input.

### Production Deployment

Deploy to Cloudflare Pages with pre-configured API key and automated workflows.
ðŸ“– **See [PRODUCTION.md](PRODUCTION.md) for complete setup guide**
